# tjSolrDoctrineBehaviorPlugin (sf1.3/1.4) #

The `tjSolrDoctrineBehaviorPlugin` provides a Doctrine behavior to easily index and search model objects
in the Solr search engine.

## Installation ##

## Testing the plugin ##

This plugins comes with an auto-generated (with the `sfTaskExtraPlugin`) fixtures project, to run the tests
without touching your own app.

Before you run the tests, make sure Solr is running is accessible.

Here's how you can easily run the plugin test suite :

  * export the SYMFONY shell var to the symfony lib path. Example :

        $ export SYMFONY='/var/www/myproject/lib/vendor/symfony-1.4.1/lib/'

  * Setup the database for testing

    The plugin's tests are made to run against an independant db. You have to create it before anything else.

        mysql> CREATE DATABASE solr_doctrine_behavior_test;
        mysql> GRANT ALL ON solr_doctrine_behavior_test.* TO test;

    If you want to use an existing database, you have to configure the database connexion by yourself

        $ php plugins/tjSolrDoctrineBehaviorPlugin/test/fixtures/project/symfony configure:database --env=test

  * build the bootstrap project. You don't have to load the fixtures, this will be automatic.

        $ php plugins/tjSolrDoctrineBehaviorPlugin/test/fixtures/project/symfony doctrine:build --env=test --all

  * run the tests

        $ php symfony test:plugin tjSolrDoctrineBehaviorPlugin
    
    or, if the sfTaskExtraPlugin is not installed :

        $ php plugins/tjSolrDoctrineBehaviorPlugin/test/bin/prove.php
